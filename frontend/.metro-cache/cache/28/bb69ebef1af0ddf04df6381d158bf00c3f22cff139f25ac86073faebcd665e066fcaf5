{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":104},"end":{"line":3,"column":26,"index":130}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";function t(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"useAuthStore\",{enumerable:!0,get:function(){return o}});var e=r(d[0]),n=t(r(d[1])),s=t(r(d[2]));const u=\"https://kenyan-wallet.preview.emergentagent.com\",o=(0,e.create)((t,e)=>({user:null,token:null,isLoading:!0,isAuthenticated:!1,loadToken:async()=>{try{const e=await n.default.getItem('auth_token'),s=await n.default.getItem('user');if(e&&s){const n=JSON.parse(s);t({token:e,user:n,isAuthenticated:!0,isLoading:!1})}else t({isLoading:!1})}catch(e){t({isLoading:!1})}},login:async(e,o)=>{let l=e.trim();l.startsWith('+254')||l.startsWith('0')||(l='0'+l);const c=await s.default.post(`${u}/api/auth/login`,{phone:l,pin:o}),{access_token:h,user:f}=c.data;await n.default.setItem('auth_token',h),await n.default.setItem('user',JSON.stringify(f)),t({token:h,user:f,isAuthenticated:!0})},signup:async(e,o,l)=>{let c=e.trim();c.startsWith('+254')||c.startsWith('0')||(c='0'+c);const h=await s.default.post(`${u}/api/auth/signup`,{phone:c,pin:o,name:l}),{access_token:f,user:p}=h.data;await n.default.setItem('auth_token',f),await n.default.setItem('user',JSON.stringify(p)),t({token:f,user:p,isAuthenticated:!0})},logout:async()=>{await n.default.removeItem('auth_token'),await n.default.removeItem('user'),t({token:null,user:null,isAuthenticated:!1})}}))});","lineCount":1,"map":[[1,143,25,0,"Object"],[1,150,25,0,"defineProperty"],[1,165,25,0,"_e"],[1,168,25,0],[1,184,25,0,"enumerable"],[1,196,25,0],[1,198,25,0,"get"],[1,202,25,0],[1,220,25,0,"useAuthStore"],[1,221,25,0],[1,225,1,0],[1,229,1,0,"_zustand"],[1,231,1,0,"r"],[1,233,1,0,"d"],[1,235,1,0],[1,239,2,0,"AsyncStorage"],[1,241,2,0,"_interopDefault"],[1,243,2,0,"r"],[1,245,2,0,"d"],[1,247,2,0],[1,252,3,0,"axios"],[1,254,3,0,"_interopDefault"],[1,256,3,0,"r"],[1,258,3,0,"d"],[1,260,3,0],[1,265,5,0],[1,271,5,6,"API_URL"],[1,273,5,13],[1,323,25,13,"useAuthStore"],[1,326,25,28],[1,328,25,28,"create"],[1,330,25,34,"create"],[1,338,25,46],[1,339,25,47,"set"],[1,341,25,52,"get"],[1,346,25,55],[1,347,26,2,"user"],[1,352,26,8],[1,357,27,2,"token"],[1,363,27,9],[1,368,28,2,"isLoading"],[1,379,28,13],[1,381,29,2,"isAuthenticated"],[1,398,29,19],[1,400,31,2,"loadToken"],[1,410,31,13,"async"],[1,420,32,4],[1,424,33,6],[1,430,33,12,"token"],[1,438,33,26,"AsyncStorage"],[1,440,33,38,"default"],[1,448,33,39,"getItem"],[1,456,33,47],[1,470,34,12,"userStr"],[1,478,34,28,"AsyncStorage"],[1,480,34,40,"default"],[1,488,34,41,"getItem"],[1,496,34,49],[1,504,35,6],[1,507,35,10,"token"],[1,510,35,19,"userStr"],[1,512,35,28],[1,513,36,8],[1,519,36,14,"user"],[1,521,36,21,"JSON"],[1,526,36,26,"parse"],[1,532,36,32,"userStr"],[1,535,37,8,"set"],[1,537,37,12],[1,538,37,14,"token"],[1,546,37,21,"user"],[1,553,37,27,"isAuthenticated"],[1,570,37,44],[1,572,37,50,"isLoading"],[1,583,37,61],[1,586,38,6],[1,592,39,8,"set"],[1,594,39,12],[1,595,39,14,"isLoading"],[1,606,39,25],[1,609,41,4],[1,610,41,6],[1,616,41,13,"error"],[1,619,42,6,"set"],[1,621,42,10],[1,622,42,12,"isLoading"],[1,633,42,23],[1,636,43,4],[1,639,46,2,"login"],[1,645,46,9,"async"],[1,651,46,16,"phone"],[1,653,46,31,"pin"],[1,658,48,4],[1,662,48,8,"normalizedPhone"],[1,664,48,26,"phone"],[1,666,48,32,"trim"],[1,673,49,9,"normalizedPhone"],[1,675,49,25,"startsWith"],[1,686,49,36],[1,695,49,48,"normalizedPhone"],[1,697,49,64,"startsWith"],[1,708,49,75],[1,715,50,6,"normalizedPhone"],[1,717,50,24],[1,721,50,30,"normalizedPhone"],[1,724,52,4],[1,730,52,10,"response"],[1,738,52,27,"axios"],[1,740,52,32,"default"],[1,748,52,33,"post"],[1,753,52,38],[1,756,52,41,"API_URL"],[1,775,52,67],[1,776,52,69,"phone"],[1,782,52,76,"normalizedPhone"],[1,784,52,93,"pin"],[1,793,53,10,"access_token"],[1,806,53,12,"access_token"],[1,808,53,24,"user"],[1,813,53,26,"user"],[1,816,53,35,"response"],[1,818,53,44,"data"],[1,829,54,10,"AsyncStorage"],[1,831,54,22,"default"],[1,839,54,23,"setItem"],[1,847,54,31],[1,860,54,45,"access_token"],[1,869,55,10,"AsyncStorage"],[1,871,55,22,"default"],[1,879,55,23,"setItem"],[1,887,55,31],[1,894,55,39,"JSON"],[1,899,55,44,"stringify"],[1,909,55,54,"user"],[1,913,56,4,"set"],[1,915,56,8],[1,916,56,10,"token"],[1,922,56,17,"access_token"],[1,924,56,31,"user"],[1,931,56,37,"isAuthenticated"],[1,948,56,54],[1,953,59,2,"signup"],[1,960,59,10,"async"],[1,966,59,17,"phone"],[1,968,59,32,"pin"],[1,970,59,45,"name"],[1,975,61,4],[1,979,61,8,"normalizedPhone"],[1,981,61,26,"phone"],[1,983,61,32,"trim"],[1,990,62,9,"normalizedPhone"],[1,992,62,25,"startsWith"],[1,1003,62,36],[1,1012,62,48,"normalizedPhone"],[1,1014,62,64,"startsWith"],[1,1025,62,75],[1,1032,63,6,"normalizedPhone"],[1,1034,63,24],[1,1038,63,30,"normalizedPhone"],[1,1041,65,4],[1,1047,65,10,"response"],[1,1055,65,27,"axios"],[1,1057,65,32,"default"],[1,1065,65,33,"post"],[1,1070,65,38],[1,1073,65,41,"API_URL"],[1,1093,65,68],[1,1094,65,70,"phone"],[1,1100,65,77,"normalizedPhone"],[1,1102,65,94,"pin"],[1,1108,65,99,"name"],[1,1118,66,10,"access_token"],[1,1131,66,12,"access_token"],[1,1133,66,24,"user"],[1,1138,66,26,"user"],[1,1141,66,35,"response"],[1,1143,66,44,"data"],[1,1154,67,10,"AsyncStorage"],[1,1156,67,22,"default"],[1,1164,67,23,"setItem"],[1,1172,67,31],[1,1185,67,45,"access_token"],[1,1194,68,10,"AsyncStorage"],[1,1196,68,22,"default"],[1,1204,68,23,"setItem"],[1,1212,68,31],[1,1219,68,39,"JSON"],[1,1224,68,44,"stringify"],[1,1234,68,54,"user"],[1,1238,69,4,"set"],[1,1240,69,8],[1,1241,69,10,"token"],[1,1247,69,17,"access_token"],[1,1249,69,31,"user"],[1,1256,69,37,"isAuthenticated"],[1,1273,69,54],[1,1278,72,2,"logout"],[1,1285,72,10,"async"],[1,1301,73,10,"AsyncStorage"],[1,1303,73,22,"default"],[1,1311,73,23,"removeItem"],[1,1322,73,34],[1,1342,74,10,"AsyncStorage"],[1,1344,74,22,"default"],[1,1352,74,23,"removeItem"],[1,1363,74,34],[1,1371,75,4,"set"],[1,1373,75,8],[1,1374,75,10,"token"],[1,1380,75,17],[1,1385,75,23,"user"],[1,1390,75,29],[1,1395,75,35,"isAuthenticated"],[1,1412,75,52],[1,1419,77,4],[1,1422]],"functionMap":{"names":["<global>","create$argument_0","loadToken","login","signup","logout"],"mappings":"AAA;8CCwB;aCM;GDa;SEE;GFW;UGE;GHW;UIE;GJI;EDC"},"hasCjsExports":false},"type":"js/module"}]}