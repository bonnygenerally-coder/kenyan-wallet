{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":104},"end":{"line":3,"column":26,"index":130}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";function t(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"useAuthStore\",{enumerable:!0,get:function(){return o}});var e=r(d[0]),s=t(r(d[1])),n=t(r(d[2]));const u=process.env.EXPO_PUBLIC_BACKEND_URL||'',o=(0,e.create)((t,e)=>({user:null,token:null,isLoading:!0,isAuthenticated:!1,loadToken:async()=>{try{const e=await s.default.getItem('auth_token'),n=await s.default.getItem('user');if(e&&n){const s=JSON.parse(n);t({token:e,user:s,isAuthenticated:!0,isLoading:!1})}else t({isLoading:!1})}catch(e){t({isLoading:!1})}},login:async(e,o)=>{let l=e.trim();l.startsWith('+254')||l.startsWith('0')||(l='0'+l);const c=await n.default.post(`${u}/api/auth/login`,{phone:l,pin:o}),{access_token:f,user:h}=c.data;await s.default.setItem('auth_token',f),await s.default.setItem('user',JSON.stringify(h)),t({token:f,user:h,isAuthenticated:!0})},signup:async(e,o,l)=>{let c=e.trim();c.startsWith('+254')||c.startsWith('0')||(c='0'+c);const f=await n.default.post(`${u}/api/auth/signup`,{phone:c,pin:o,name:l}),{access_token:h,user:_}=f.data;await s.default.setItem('auth_token',h),await s.default.setItem('user',JSON.stringify(_)),t({token:h,user:_,isAuthenticated:!0})},logout:async()=>{await s.default.removeItem('auth_token'),await s.default.removeItem('user'),t({token:null,user:null,isAuthenticated:!1})}}))});","lineCount":1,"map":[[1,143,25,0,"Object"],[1,150,25,0,"defineProperty"],[1,165,25,0,"_e"],[1,168,25,0],[1,184,25,0,"enumerable"],[1,196,25,0],[1,198,25,0,"get"],[1,202,25,0],[1,220,25,0,"useAuthStore"],[1,221,25,0],[1,225,1,0],[1,229,1,0,"_zustand"],[1,231,1,0,"r"],[1,233,1,0,"d"],[1,235,1,0],[1,239,2,0,"AsyncStorage"],[1,241,2,0,"_interopDefault"],[1,243,2,0,"r"],[1,245,2,0,"d"],[1,247,2,0],[1,252,3,0,"axios"],[1,254,3,0,"_interopDefault"],[1,256,3,0,"r"],[1,258,3,0,"d"],[1,260,3,0],[1,265,5,0],[1,271,5,6,"API_URL"],[1,273,5,16,"process"],[1,281,5,24,"env"],[1,285,5,28,"EXPO_PUBLIC_BACKEND_URL"],[1,310,5,55],[1,313,25,13,"useAuthStore"],[1,316,25,28],[1,318,25,28,"create"],[1,320,25,34,"create"],[1,328,25,46],[1,329,25,47,"set"],[1,331,25,52,"get"],[1,336,25,55],[1,337,26,2,"user"],[1,342,26,8],[1,347,27,2,"token"],[1,353,27,9],[1,358,28,2,"isLoading"],[1,369,28,13],[1,371,29,2,"isAuthenticated"],[1,388,29,19],[1,390,31,2,"loadToken"],[1,400,31,13,"async"],[1,410,32,4],[1,414,33,6],[1,420,33,12,"token"],[1,428,33,26,"AsyncStorage"],[1,430,33,38,"default"],[1,438,33,39,"getItem"],[1,446,33,47],[1,460,34,12,"userStr"],[1,468,34,28,"AsyncStorage"],[1,470,34,40,"default"],[1,478,34,41,"getItem"],[1,486,34,49],[1,494,35,6],[1,497,35,10,"token"],[1,500,35,19,"userStr"],[1,502,35,28],[1,503,36,8],[1,509,36,14,"user"],[1,511,36,21,"JSON"],[1,516,36,26,"parse"],[1,522,36,32,"userStr"],[1,525,37,8,"set"],[1,527,37,12],[1,528,37,14,"token"],[1,536,37,21,"user"],[1,543,37,27,"isAuthenticated"],[1,560,37,44],[1,562,37,50,"isLoading"],[1,573,37,61],[1,576,38,6],[1,582,39,8,"set"],[1,584,39,12],[1,585,39,14,"isLoading"],[1,596,39,25],[1,599,41,4],[1,600,41,6],[1,606,41,13,"error"],[1,609,42,6,"set"],[1,611,42,10],[1,612,42,12,"isLoading"],[1,623,42,23],[1,626,43,4],[1,629,46,2,"login"],[1,635,46,9,"async"],[1,641,46,16,"phone"],[1,643,46,31,"pin"],[1,648,48,4],[1,652,48,8,"normalizedPhone"],[1,654,48,26,"phone"],[1,656,48,32,"trim"],[1,663,49,9,"normalizedPhone"],[1,665,49,25,"startsWith"],[1,676,49,36],[1,685,49,48,"normalizedPhone"],[1,687,49,64,"startsWith"],[1,698,49,75],[1,705,50,6,"normalizedPhone"],[1,707,50,24],[1,711,50,30,"normalizedPhone"],[1,714,52,4],[1,720,52,10,"response"],[1,728,52,27,"axios"],[1,730,52,32,"default"],[1,738,52,33,"post"],[1,743,52,38],[1,746,52,41,"API_URL"],[1,765,52,67],[1,766,52,69,"phone"],[1,772,52,76,"normalizedPhone"],[1,774,52,93,"pin"],[1,783,53,10,"access_token"],[1,796,53,12,"access_token"],[1,798,53,24,"user"],[1,803,53,26,"user"],[1,806,53,35,"response"],[1,808,53,44,"data"],[1,819,54,10,"AsyncStorage"],[1,821,54,22,"default"],[1,829,54,23,"setItem"],[1,837,54,31],[1,850,54,45,"access_token"],[1,859,55,10,"AsyncStorage"],[1,861,55,22,"default"],[1,869,55,23,"setItem"],[1,877,55,31],[1,884,55,39,"JSON"],[1,889,55,44,"stringify"],[1,899,55,54,"user"],[1,903,56,4,"set"],[1,905,56,8],[1,906,56,10,"token"],[1,912,56,17,"access_token"],[1,914,56,31,"user"],[1,921,56,37,"isAuthenticated"],[1,938,56,54],[1,943,59,2,"signup"],[1,950,59,10,"async"],[1,956,59,17,"phone"],[1,958,59,32,"pin"],[1,960,59,45,"name"],[1,965,61,4],[1,969,61,8,"normalizedPhone"],[1,971,61,26,"phone"],[1,973,61,32,"trim"],[1,980,62,9,"normalizedPhone"],[1,982,62,25,"startsWith"],[1,993,62,36],[1,1002,62,48,"normalizedPhone"],[1,1004,62,64,"startsWith"],[1,1015,62,75],[1,1022,63,6,"normalizedPhone"],[1,1024,63,24],[1,1028,63,30,"normalizedPhone"],[1,1031,65,4],[1,1037,65,10,"response"],[1,1045,65,27,"axios"],[1,1047,65,32,"default"],[1,1055,65,33,"post"],[1,1060,65,38],[1,1063,65,41,"API_URL"],[1,1083,65,68],[1,1084,65,70,"phone"],[1,1090,65,77,"normalizedPhone"],[1,1092,65,94,"pin"],[1,1098,65,99,"name"],[1,1108,66,10,"access_token"],[1,1121,66,12,"access_token"],[1,1123,66,24,"user"],[1,1128,66,26,"user"],[1,1131,66,35,"response"],[1,1133,66,44,"data"],[1,1144,67,10,"AsyncStorage"],[1,1146,67,22,"default"],[1,1154,67,23,"setItem"],[1,1162,67,31],[1,1175,67,45,"access_token"],[1,1184,68,10,"AsyncStorage"],[1,1186,68,22,"default"],[1,1194,68,23,"setItem"],[1,1202,68,31],[1,1209,68,39,"JSON"],[1,1214,68,44,"stringify"],[1,1224,68,54,"user"],[1,1228,69,4,"set"],[1,1230,69,8],[1,1231,69,10,"token"],[1,1237,69,17,"access_token"],[1,1239,69,31,"user"],[1,1246,69,37,"isAuthenticated"],[1,1263,69,54],[1,1268,72,2,"logout"],[1,1275,72,10,"async"],[1,1291,73,10,"AsyncStorage"],[1,1293,73,22,"default"],[1,1301,73,23,"removeItem"],[1,1312,73,34],[1,1332,74,10,"AsyncStorage"],[1,1334,74,22,"default"],[1,1342,74,23,"removeItem"],[1,1353,74,34],[1,1361,75,4,"set"],[1,1363,75,8],[1,1364,75,10,"token"],[1,1370,75,17],[1,1375,75,23,"user"],[1,1380,75,29],[1,1385,75,35,"isAuthenticated"],[1,1402,75,52],[1,1409,77,4],[1,1412]],"functionMap":{"names":["<global>","create$argument_0","loadToken","login","signup","logout"],"mappings":"AAA;8CCwB;aCM;GDa;SEE;GFW;UGE;GHW;UIE;GJI;EDC"},"hasCjsExports":false},"type":"js/module"}]}