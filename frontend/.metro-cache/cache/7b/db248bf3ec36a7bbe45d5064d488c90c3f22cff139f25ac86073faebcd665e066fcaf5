{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":104},"end":{"line":3,"column":26,"index":130}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  const API_URL = process.env.EXPO_PUBLIC_BACKEND_URL || '';\n  const useAuthStore = (0, _zustand.create)((set, get) => ({\n    user: null,\n    token: null,\n    isLoading: true,\n    isAuthenticated: false,\n    loadToken: async () => {\n      try {\n        const token = await AsyncStorage.default.getItem('auth_token');\n        const userStr = await AsyncStorage.default.getItem('user');\n        if (token && userStr) {\n          const user = JSON.parse(userStr);\n          set({\n            token,\n            user,\n            isAuthenticated: true,\n            isLoading: false\n          });\n        } else {\n          set({\n            isLoading: false\n          });\n        }\n      } catch (error) {\n        set({\n          isLoading: false\n        });\n      }\n    },\n    login: async (phone, pin) => {\n      // Normalize phone - add prefix if needed\n      let normalizedPhone = phone.trim();\n      if (!normalizedPhone.startsWith('+254') && !normalizedPhone.startsWith('0')) {\n        normalizedPhone = '0' + normalizedPhone;\n      }\n      const response = await axios.default.post(`${API_URL}/api/auth/login`, {\n        phone: normalizedPhone,\n        pin\n      });\n      const {\n        access_token,\n        user\n      } = response.data;\n      await AsyncStorage.default.setItem('auth_token', access_token);\n      await AsyncStorage.default.setItem('user', JSON.stringify(user));\n      set({\n        token: access_token,\n        user,\n        isAuthenticated: true\n      });\n    },\n    signup: async (phone, pin, name) => {\n      // Normalize phone - add prefix if needed\n      let normalizedPhone = phone.trim();\n      if (!normalizedPhone.startsWith('+254') && !normalizedPhone.startsWith('0')) {\n        normalizedPhone = '0' + normalizedPhone;\n      }\n      const response = await axios.default.post(`${API_URL}/api/auth/signup`, {\n        phone: normalizedPhone,\n        pin,\n        name\n      });\n      const {\n        access_token,\n        user\n      } = response.data;\n      await AsyncStorage.default.setItem('auth_token', access_token);\n      await AsyncStorage.default.setItem('user', JSON.stringify(user));\n      set({\n        token: access_token,\n        user,\n        isAuthenticated: true\n      });\n    },\n    logout: async () => {\n      await AsyncStorage.default.removeItem('auth_token');\n      await AsyncStorage.default.removeItem('user');\n      set({\n        token: null,\n        user: null,\n        isAuthenticated: false\n      });\n    }\n  }));\n});","lineCount":107,"map":[[12,2,25,0,"Object"],[12,8,25,0],[12,9,25,0,"defineProperty"],[12,23,25,0],[12,24,25,0,"exports"],[12,31,25,0],[13,4,25,0,"enumerable"],[13,14,25,0],[14,4,25,0,"get"],[14,7,25,0],[14,18,25,0,"get"],[14,19,25,0],[15,6,25,0],[15,13,25,0,"useAuthStore"],[15,25,25,0],[16,4,25,0],[17,2,25,0],[18,2,1,0],[18,6,1,0,"_zustand"],[18,14,1,0],[18,17,1,0,"require"],[18,24,1,0],[18,25,1,0,"_dependencyMap"],[18,39,1,0],[19,2,2,0],[19,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,42,2,0],[19,45,2,0,"require"],[19,52,2,0],[19,53,2,0,"_dependencyMap"],[19,67,2,0],[20,2,2,0],[20,6,2,0,"AsyncStorage"],[20,18,2,0],[20,21,2,0,"_interopDefault"],[20,36,2,0],[20,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,73,2,0],[21,2,3,0],[21,6,3,0,"_axios"],[21,12,3,0],[21,15,3,0,"require"],[21,22,3,0],[21,23,3,0,"_dependencyMap"],[21,37,3,0],[22,2,3,0],[22,6,3,0,"axios"],[22,11,3,0],[22,14,3,0,"_interopDefault"],[22,29,3,0],[22,30,3,0,"_axios"],[22,36,3,0],[23,2,5,0],[23,8,5,6,"API_URL"],[23,15,5,13],[23,18,5,16,"process"],[23,25,5,23],[23,26,5,24,"env"],[23,29,5,27],[23,30,5,28,"EXPO_PUBLIC_BACKEND_URL"],[23,53,5,51],[23,57,5,55],[23,59,5,57],[24,2,25,7],[24,8,25,13,"useAuthStore"],[24,20,25,25],[24,23,25,28],[24,27,25,28,"create"],[24,35,25,34],[24,36,25,34,"create"],[24,42,25,34],[24,44,25,46],[24,45,25,47,"set"],[24,48,25,50],[24,50,25,52,"get"],[24,53,25,55],[24,59,25,61],[25,4,26,2,"user"],[25,8,26,6],[25,10,26,8],[25,14,26,12],[26,4,27,2,"token"],[26,9,27,7],[26,11,27,9],[26,15,27,13],[27,4,28,2,"isLoading"],[27,13,28,11],[27,15,28,13],[27,19,28,17],[28,4,29,2,"isAuthenticated"],[28,19,29,17],[28,21,29,19],[28,26,29,24],[29,4,31,2,"loadToken"],[29,13,31,11],[29,15,31,13],[29,21,31,13,"loadToken"],[29,22,31,13],[29,27,31,25],[30,6,32,4],[30,10,32,8],[31,8,33,6],[31,14,33,12,"token"],[31,19,33,17],[31,22,33,20],[31,28,33,26,"AsyncStorage"],[31,40,33,38],[31,41,33,38,"default"],[31,48,33,38],[31,49,33,39,"getItem"],[31,56,33,46],[31,57,33,47],[31,69,33,59],[31,70,33,60],[32,8,34,6],[32,14,34,12,"userStr"],[32,21,34,19],[32,24,34,22],[32,30,34,28,"AsyncStorage"],[32,42,34,40],[32,43,34,40,"default"],[32,50,34,40],[32,51,34,41,"getItem"],[32,58,34,48],[32,59,34,49],[32,65,34,55],[32,66,34,56],[33,8,35,6],[33,12,35,10,"token"],[33,17,35,15],[33,21,35,19,"userStr"],[33,28,35,26],[33,30,35,28],[34,10,36,8],[34,16,36,14,"user"],[34,20,36,18],[34,23,36,21,"JSON"],[34,27,36,25],[34,28,36,26,"parse"],[34,33,36,31],[34,34,36,32,"userStr"],[34,41,36,39],[34,42,36,40],[35,10,37,8,"set"],[35,13,37,11],[35,14,37,12],[36,12,37,14,"token"],[36,17,37,19],[37,12,37,21,"user"],[37,16,37,25],[38,12,37,27,"isAuthenticated"],[38,27,37,42],[38,29,37,44],[38,33,37,48],[39,12,37,50,"isLoading"],[39,21,37,59],[39,23,37,61],[40,10,37,67],[40,11,37,68],[40,12,37,69],[41,8,38,6],[41,9,38,7],[41,15,38,13],[42,10,39,8,"set"],[42,13,39,11],[42,14,39,12],[43,12,39,14,"isLoading"],[43,21,39,23],[43,23,39,25],[44,10,39,31],[44,11,39,32],[44,12,39,33],[45,8,40,6],[46,6,41,4],[46,7,41,5],[46,8,41,6],[46,15,41,13,"error"],[46,20,41,18],[46,22,41,20],[47,8,42,6,"set"],[47,11,42,9],[47,12,42,10],[48,10,42,12,"isLoading"],[48,19,42,21],[48,21,42,23],[49,8,42,29],[49,9,42,30],[49,10,42,31],[50,6,43,4],[51,4,44,2],[51,5,44,3],[52,4,46,2,"login"],[52,9,46,7],[52,11,46,9],[52,17,46,9,"login"],[52,18,46,16,"phone"],[52,23,46,29],[52,25,46,31,"pin"],[52,28,46,42],[52,33,46,47],[53,6,47,4],[54,6,48,4],[54,10,48,8,"normalizedPhone"],[54,25,48,23],[54,28,48,26,"phone"],[54,33,48,31],[54,34,48,32,"trim"],[54,38,48,36],[54,39,48,37],[54,40,48,38],[55,6,49,4],[55,10,49,8],[55,11,49,9,"normalizedPhone"],[55,26,49,24],[55,27,49,25,"startsWith"],[55,37,49,35],[55,38,49,36],[55,44,49,42],[55,45,49,43],[55,49,49,47],[55,50,49,48,"normalizedPhone"],[55,65,49,63],[55,66,49,64,"startsWith"],[55,76,49,74],[55,77,49,75],[55,80,49,78],[55,81,49,79],[55,83,49,81],[56,8,50,6,"normalizedPhone"],[56,23,50,21],[56,26,50,24],[56,29,50,27],[56,32,50,30,"normalizedPhone"],[56,47,50,45],[57,6,51,4],[58,6,52,4],[58,12,52,10,"response"],[58,20,52,18],[58,23,52,21],[58,29,52,27,"axios"],[58,34,52,32],[58,35,52,32,"default"],[58,42,52,32],[58,43,52,33,"post"],[58,47,52,37],[58,48,52,38],[58,51,52,41,"API_URL"],[58,58,52,48],[58,75,52,65],[58,77,52,67],[59,8,52,69,"phone"],[59,13,52,74],[59,15,52,76,"normalizedPhone"],[59,30,52,91],[60,8,52,93,"pin"],[61,6,52,97],[61,7,52,98],[61,8,52,99],[62,6,53,4],[62,12,53,10],[63,8,53,12,"access_token"],[63,20,53,24],[64,8,53,26,"user"],[65,6,53,31],[65,7,53,32],[65,10,53,35,"response"],[65,18,53,43],[65,19,53,44,"data"],[65,23,53,48],[66,6,54,4],[66,12,54,10,"AsyncStorage"],[66,24,54,22],[66,25,54,22,"default"],[66,32,54,22],[66,33,54,23,"setItem"],[66,40,54,30],[66,41,54,31],[66,53,54,43],[66,55,54,45,"access_token"],[66,67,54,57],[66,68,54,58],[67,6,55,4],[67,12,55,10,"AsyncStorage"],[67,24,55,22],[67,25,55,22,"default"],[67,32,55,22],[67,33,55,23,"setItem"],[67,40,55,30],[67,41,55,31],[67,47,55,37],[67,49,55,39,"JSON"],[67,53,55,43],[67,54,55,44,"stringify"],[67,63,55,53],[67,64,55,54,"user"],[67,68,55,58],[67,69,55,59],[67,70,55,60],[68,6,56,4,"set"],[68,9,56,7],[68,10,56,8],[69,8,56,10,"token"],[69,13,56,15],[69,15,56,17,"access_token"],[69,27,56,29],[70,8,56,31,"user"],[70,12,56,35],[71,8,56,37,"isAuthenticated"],[71,23,56,52],[71,25,56,54],[72,6,56,59],[72,7,56,60],[72,8,56,61],[73,4,57,2],[73,5,57,3],[74,4,59,2,"signup"],[74,10,59,8],[74,12,59,10],[74,18,59,10,"signup"],[74,19,59,17,"phone"],[74,24,59,30],[74,26,59,32,"pin"],[74,29,59,43],[74,31,59,45,"name"],[74,35,59,57],[74,40,59,62],[75,6,60,4],[76,6,61,4],[76,10,61,8,"normalizedPhone"],[76,25,61,23],[76,28,61,26,"phone"],[76,33,61,31],[76,34,61,32,"trim"],[76,38,61,36],[76,39,61,37],[76,40,61,38],[77,6,62,4],[77,10,62,8],[77,11,62,9,"normalizedPhone"],[77,26,62,24],[77,27,62,25,"startsWith"],[77,37,62,35],[77,38,62,36],[77,44,62,42],[77,45,62,43],[77,49,62,47],[77,50,62,48,"normalizedPhone"],[77,65,62,63],[77,66,62,64,"startsWith"],[77,76,62,74],[77,77,62,75],[77,80,62,78],[77,81,62,79],[77,83,62,81],[78,8,63,6,"normalizedPhone"],[78,23,63,21],[78,26,63,24],[78,29,63,27],[78,32,63,30,"normalizedPhone"],[78,47,63,45],[79,6,64,4],[80,6,65,4],[80,12,65,10,"response"],[80,20,65,18],[80,23,65,21],[80,29,65,27,"axios"],[80,34,65,32],[80,35,65,32,"default"],[80,42,65,32],[80,43,65,33,"post"],[80,47,65,37],[80,48,65,38],[80,51,65,41,"API_URL"],[80,58,65,48],[80,76,65,66],[80,78,65,68],[81,8,65,70,"phone"],[81,13,65,75],[81,15,65,77,"normalizedPhone"],[81,30,65,92],[82,8,65,94,"pin"],[82,11,65,97],[83,8,65,99,"name"],[84,6,65,104],[84,7,65,105],[84,8,65,106],[85,6,66,4],[85,12,66,10],[86,8,66,12,"access_token"],[86,20,66,24],[87,8,66,26,"user"],[88,6,66,31],[88,7,66,32],[88,10,66,35,"response"],[88,18,66,43],[88,19,66,44,"data"],[88,23,66,48],[89,6,67,4],[89,12,67,10,"AsyncStorage"],[89,24,67,22],[89,25,67,22,"default"],[89,32,67,22],[89,33,67,23,"setItem"],[89,40,67,30],[89,41,67,31],[89,53,67,43],[89,55,67,45,"access_token"],[89,67,67,57],[89,68,67,58],[90,6,68,4],[90,12,68,10,"AsyncStorage"],[90,24,68,22],[90,25,68,22,"default"],[90,32,68,22],[90,33,68,23,"setItem"],[90,40,68,30],[90,41,68,31],[90,47,68,37],[90,49,68,39,"JSON"],[90,53,68,43],[90,54,68,44,"stringify"],[90,63,68,53],[90,64,68,54,"user"],[90,68,68,58],[90,69,68,59],[90,70,68,60],[91,6,69,4,"set"],[91,9,69,7],[91,10,69,8],[92,8,69,10,"token"],[92,13,69,15],[92,15,69,17,"access_token"],[92,27,69,29],[93,8,69,31,"user"],[93,12,69,35],[94,8,69,37,"isAuthenticated"],[94,23,69,52],[94,25,69,54],[95,6,69,59],[95,7,69,60],[95,8,69,61],[96,4,70,2],[96,5,70,3],[97,4,72,2,"logout"],[97,10,72,8],[97,12,72,10],[97,18,72,10,"logout"],[97,19,72,10],[97,24,72,22],[98,6,73,4],[98,12,73,10,"AsyncStorage"],[98,24,73,22],[98,25,73,22,"default"],[98,32,73,22],[98,33,73,23,"removeItem"],[98,43,73,33],[98,44,73,34],[98,56,73,46],[98,57,73,47],[99,6,74,4],[99,12,74,10,"AsyncStorage"],[99,24,74,22],[99,25,74,22,"default"],[99,32,74,22],[99,33,74,23,"removeItem"],[99,43,74,33],[99,44,74,34],[99,50,74,40],[99,51,74,41],[100,6,75,4,"set"],[100,9,75,7],[100,10,75,8],[101,8,75,10,"token"],[101,13,75,15],[101,15,75,17],[101,19,75,21],[102,8,75,23,"user"],[102,12,75,27],[102,14,75,29],[102,18,75,33],[103,8,75,35,"isAuthenticated"],[103,23,75,50],[103,25,75,52],[104,6,75,58],[104,7,75,59],[104,8,75,60],[105,4,76,2],[106,2,77,0],[106,3,77,1],[106,4,77,2],[106,5,77,3],[107,0,77,4],[107,3]],"functionMap":{"names":["<global>","create$argument_0","loadToken","login","signup","logout"],"mappings":"AAA;8CCwB;aCM;GDa;SEE;GFW;UGE;GHW;UIE;GJI;EDC"},"hasCjsExports":false},"type":"js/module"}]}