{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":104},"end":{"line":3,"column":26,"index":130}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _zustand = require(_dependencyMap[1], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[3], \"axios\");\n  var axios = _interopDefault(_axios);\n  const API_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || '';\n  const useAuthStore = (0, _zustand.create)((set, get) => ({\n    user: null,\n    token: null,\n    isLoading: true,\n    isAuthenticated: false,\n    loadToken: async () => {\n      try {\n        const token = await AsyncStorage.default.getItem('auth_token');\n        const userStr = await AsyncStorage.default.getItem('user');\n        if (token && userStr) {\n          const user = JSON.parse(userStr);\n          set({\n            token,\n            user,\n            isAuthenticated: true,\n            isLoading: false\n          });\n        } else {\n          set({\n            isLoading: false\n          });\n        }\n      } catch (error) {\n        set({\n          isLoading: false\n        });\n      }\n    },\n    login: async (phone, pin) => {\n      // Normalize phone - add prefix if needed\n      let normalizedPhone = phone.trim();\n      if (!normalizedPhone.startsWith('+254') && !normalizedPhone.startsWith('0')) {\n        normalizedPhone = '0' + normalizedPhone;\n      }\n      const response = await axios.default.post(`${API_URL}/api/auth/login`, {\n        phone: normalizedPhone,\n        pin\n      });\n      const {\n        access_token,\n        user\n      } = response.data;\n      await AsyncStorage.default.setItem('auth_token', access_token);\n      await AsyncStorage.default.setItem('user', JSON.stringify(user));\n      set({\n        token: access_token,\n        user,\n        isAuthenticated: true\n      });\n    },\n    signup: async (phone, pin, name) => {\n      // Normalize phone - add prefix if needed\n      let normalizedPhone = phone.trim();\n      if (!normalizedPhone.startsWith('+254') && !normalizedPhone.startsWith('0')) {\n        normalizedPhone = '0' + normalizedPhone;\n      }\n      const response = await axios.default.post(`${API_URL}/api/auth/signup`, {\n        phone: normalizedPhone,\n        pin,\n        name\n      });\n      const {\n        access_token,\n        user\n      } = response.data;\n      await AsyncStorage.default.setItem('auth_token', access_token);\n      await AsyncStorage.default.setItem('user', JSON.stringify(user));\n      set({\n        token: access_token,\n        user,\n        isAuthenticated: true\n      });\n    },\n    logout: async () => {\n      await AsyncStorage.default.removeItem('auth_token');\n      await AsyncStorage.default.removeItem('user');\n      set({\n        token: null,\n        user: null,\n        isAuthenticated: false\n      });\n    }\n  }));\n});","lineCount":108,"map":[[12,2,25,0,"Object"],[12,8,25,0],[12,9,25,0,"defineProperty"],[12,23,25,0],[12,24,25,0,"exports"],[12,31,25,0],[13,4,25,0,"enumerable"],[13,14,25,0],[14,4,25,0,"get"],[14,7,25,0],[14,18,25,0,"get"],[14,19,25,0],[15,6,25,0],[15,13,25,0,"useAuthStore"],[15,25,25,0],[16,4,25,0],[17,2,25,0],[18,2,77,4],[18,6,77,4,"_expoVirtualEnv"],[18,21,77,4],[18,24,77,4,"require"],[18,31,77,4],[18,32,77,4,"_dependencyMap"],[18,46,77,4],[19,2,1,0],[19,6,1,0,"_zustand"],[19,14,1,0],[19,17,1,0,"require"],[19,24,1,0],[19,25,1,0,"_dependencyMap"],[19,39,1,0],[20,2,2,0],[20,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,42,2,0],[20,45,2,0,"require"],[20,52,2,0],[20,53,2,0,"_dependencyMap"],[20,67,2,0],[21,2,2,0],[21,6,2,0,"AsyncStorage"],[21,18,2,0],[21,21,2,0,"_interopDefault"],[21,36,2,0],[21,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[21,73,2,0],[22,2,3,0],[22,6,3,0,"_axios"],[22,12,3,0],[22,15,3,0,"require"],[22,22,3,0],[22,23,3,0,"_dependencyMap"],[22,37,3,0],[23,2,3,0],[23,6,3,0,"axios"],[23,11,3,0],[23,14,3,0,"_interopDefault"],[23,29,3,0],[23,30,3,0,"_axios"],[23,36,3,0],[24,2,5,0],[24,8,5,6,"API_URL"],[24,15,5,13],[24,18,5,16,"_expoVirtualEnv"],[24,33,5,16],[24,34,5,16,"env"],[24,37,5,16],[24,38,5,16,"EXPO_PUBLIC_BACKEND_URL"],[24,61,5,16],[24,65,5,55],[24,67,5,57],[25,2,25,7],[25,8,25,13,"useAuthStore"],[25,20,25,25],[25,23,25,28],[25,27,25,28,"create"],[25,35,25,34],[25,36,25,34,"create"],[25,42,25,34],[25,44,25,46],[25,45,25,47,"set"],[25,48,25,50],[25,50,25,52,"get"],[25,53,25,55],[25,59,25,61],[26,4,26,2,"user"],[26,8,26,6],[26,10,26,8],[26,14,26,12],[27,4,27,2,"token"],[27,9,27,7],[27,11,27,9],[27,15,27,13],[28,4,28,2,"isLoading"],[28,13,28,11],[28,15,28,13],[28,19,28,17],[29,4,29,2,"isAuthenticated"],[29,19,29,17],[29,21,29,19],[29,26,29,24],[30,4,31,2,"loadToken"],[30,13,31,11],[30,15,31,13],[30,21,31,13,"loadToken"],[30,22,31,13],[30,27,31,25],[31,6,32,4],[31,10,32,8],[32,8,33,6],[32,14,33,12,"token"],[32,19,33,17],[32,22,33,20],[32,28,33,26,"AsyncStorage"],[32,40,33,38],[32,41,33,38,"default"],[32,48,33,38],[32,49,33,39,"getItem"],[32,56,33,46],[32,57,33,47],[32,69,33,59],[32,70,33,60],[33,8,34,6],[33,14,34,12,"userStr"],[33,21,34,19],[33,24,34,22],[33,30,34,28,"AsyncStorage"],[33,42,34,40],[33,43,34,40,"default"],[33,50,34,40],[33,51,34,41,"getItem"],[33,58,34,48],[33,59,34,49],[33,65,34,55],[33,66,34,56],[34,8,35,6],[34,12,35,10,"token"],[34,17,35,15],[34,21,35,19,"userStr"],[34,28,35,26],[34,30,35,28],[35,10,36,8],[35,16,36,14,"user"],[35,20,36,18],[35,23,36,21,"JSON"],[35,27,36,25],[35,28,36,26,"parse"],[35,33,36,31],[35,34,36,32,"userStr"],[35,41,36,39],[35,42,36,40],[36,10,37,8,"set"],[36,13,37,11],[36,14,37,12],[37,12,37,14,"token"],[37,17,37,19],[38,12,37,21,"user"],[38,16,37,25],[39,12,37,27,"isAuthenticated"],[39,27,37,42],[39,29,37,44],[39,33,37,48],[40,12,37,50,"isLoading"],[40,21,37,59],[40,23,37,61],[41,10,37,67],[41,11,37,68],[41,12,37,69],[42,8,38,6],[42,9,38,7],[42,15,38,13],[43,10,39,8,"set"],[43,13,39,11],[43,14,39,12],[44,12,39,14,"isLoading"],[44,21,39,23],[44,23,39,25],[45,10,39,31],[45,11,39,32],[45,12,39,33],[46,8,40,6],[47,6,41,4],[47,7,41,5],[47,8,41,6],[47,15,41,13,"error"],[47,20,41,18],[47,22,41,20],[48,8,42,6,"set"],[48,11,42,9],[48,12,42,10],[49,10,42,12,"isLoading"],[49,19,42,21],[49,21,42,23],[50,8,42,29],[50,9,42,30],[50,10,42,31],[51,6,43,4],[52,4,44,2],[52,5,44,3],[53,4,46,2,"login"],[53,9,46,7],[53,11,46,9],[53,17,46,9,"login"],[53,18,46,16,"phone"],[53,23,46,29],[53,25,46,31,"pin"],[53,28,46,42],[53,33,46,47],[54,6,47,4],[55,6,48,4],[55,10,48,8,"normalizedPhone"],[55,25,48,23],[55,28,48,26,"phone"],[55,33,48,31],[55,34,48,32,"trim"],[55,38,48,36],[55,39,48,37],[55,40,48,38],[56,6,49,4],[56,10,49,8],[56,11,49,9,"normalizedPhone"],[56,26,49,24],[56,27,49,25,"startsWith"],[56,37,49,35],[56,38,49,36],[56,44,49,42],[56,45,49,43],[56,49,49,47],[56,50,49,48,"normalizedPhone"],[56,65,49,63],[56,66,49,64,"startsWith"],[56,76,49,74],[56,77,49,75],[56,80,49,78],[56,81,49,79],[56,83,49,81],[57,8,50,6,"normalizedPhone"],[57,23,50,21],[57,26,50,24],[57,29,50,27],[57,32,50,30,"normalizedPhone"],[57,47,50,45],[58,6,51,4],[59,6,52,4],[59,12,52,10,"response"],[59,20,52,18],[59,23,52,21],[59,29,52,27,"axios"],[59,34,52,32],[59,35,52,32,"default"],[59,42,52,32],[59,43,52,33,"post"],[59,47,52,37],[59,48,52,38],[59,51,52,41,"API_URL"],[59,58,52,48],[59,75,52,65],[59,77,52,67],[60,8,52,69,"phone"],[60,13,52,74],[60,15,52,76,"normalizedPhone"],[60,30,52,91],[61,8,52,93,"pin"],[62,6,52,97],[62,7,52,98],[62,8,52,99],[63,6,53,4],[63,12,53,10],[64,8,53,12,"access_token"],[64,20,53,24],[65,8,53,26,"user"],[66,6,53,31],[66,7,53,32],[66,10,53,35,"response"],[66,18,53,43],[66,19,53,44,"data"],[66,23,53,48],[67,6,54,4],[67,12,54,10,"AsyncStorage"],[67,24,54,22],[67,25,54,22,"default"],[67,32,54,22],[67,33,54,23,"setItem"],[67,40,54,30],[67,41,54,31],[67,53,54,43],[67,55,54,45,"access_token"],[67,67,54,57],[67,68,54,58],[68,6,55,4],[68,12,55,10,"AsyncStorage"],[68,24,55,22],[68,25,55,22,"default"],[68,32,55,22],[68,33,55,23,"setItem"],[68,40,55,30],[68,41,55,31],[68,47,55,37],[68,49,55,39,"JSON"],[68,53,55,43],[68,54,55,44,"stringify"],[68,63,55,53],[68,64,55,54,"user"],[68,68,55,58],[68,69,55,59],[68,70,55,60],[69,6,56,4,"set"],[69,9,56,7],[69,10,56,8],[70,8,56,10,"token"],[70,13,56,15],[70,15,56,17,"access_token"],[70,27,56,29],[71,8,56,31,"user"],[71,12,56,35],[72,8,56,37,"isAuthenticated"],[72,23,56,52],[72,25,56,54],[73,6,56,59],[73,7,56,60],[73,8,56,61],[74,4,57,2],[74,5,57,3],[75,4,59,2,"signup"],[75,10,59,8],[75,12,59,10],[75,18,59,10,"signup"],[75,19,59,17,"phone"],[75,24,59,30],[75,26,59,32,"pin"],[75,29,59,43],[75,31,59,45,"name"],[75,35,59,57],[75,40,59,62],[76,6,60,4],[77,6,61,4],[77,10,61,8,"normalizedPhone"],[77,25,61,23],[77,28,61,26,"phone"],[77,33,61,31],[77,34,61,32,"trim"],[77,38,61,36],[77,39,61,37],[77,40,61,38],[78,6,62,4],[78,10,62,8],[78,11,62,9,"normalizedPhone"],[78,26,62,24],[78,27,62,25,"startsWith"],[78,37,62,35],[78,38,62,36],[78,44,62,42],[78,45,62,43],[78,49,62,47],[78,50,62,48,"normalizedPhone"],[78,65,62,63],[78,66,62,64,"startsWith"],[78,76,62,74],[78,77,62,75],[78,80,62,78],[78,81,62,79],[78,83,62,81],[79,8,63,6,"normalizedPhone"],[79,23,63,21],[79,26,63,24],[79,29,63,27],[79,32,63,30,"normalizedPhone"],[79,47,63,45],[80,6,64,4],[81,6,65,4],[81,12,65,10,"response"],[81,20,65,18],[81,23,65,21],[81,29,65,27,"axios"],[81,34,65,32],[81,35,65,32,"default"],[81,42,65,32],[81,43,65,33,"post"],[81,47,65,37],[81,48,65,38],[81,51,65,41,"API_URL"],[81,58,65,48],[81,76,65,66],[81,78,65,68],[82,8,65,70,"phone"],[82,13,65,75],[82,15,65,77,"normalizedPhone"],[82,30,65,92],[83,8,65,94,"pin"],[83,11,65,97],[84,8,65,99,"name"],[85,6,65,104],[85,7,65,105],[85,8,65,106],[86,6,66,4],[86,12,66,10],[87,8,66,12,"access_token"],[87,20,66,24],[88,8,66,26,"user"],[89,6,66,31],[89,7,66,32],[89,10,66,35,"response"],[89,18,66,43],[89,19,66,44,"data"],[89,23,66,48],[90,6,67,4],[90,12,67,10,"AsyncStorage"],[90,24,67,22],[90,25,67,22,"default"],[90,32,67,22],[90,33,67,23,"setItem"],[90,40,67,30],[90,41,67,31],[90,53,67,43],[90,55,67,45,"access_token"],[90,67,67,57],[90,68,67,58],[91,6,68,4],[91,12,68,10,"AsyncStorage"],[91,24,68,22],[91,25,68,22,"default"],[91,32,68,22],[91,33,68,23,"setItem"],[91,40,68,30],[91,41,68,31],[91,47,68,37],[91,49,68,39,"JSON"],[91,53,68,43],[91,54,68,44,"stringify"],[91,63,68,53],[91,64,68,54,"user"],[91,68,68,58],[91,69,68,59],[91,70,68,60],[92,6,69,4,"set"],[92,9,69,7],[92,10,69,8],[93,8,69,10,"token"],[93,13,69,15],[93,15,69,17,"access_token"],[93,27,69,29],[94,8,69,31,"user"],[94,12,69,35],[95,8,69,37,"isAuthenticated"],[95,23,69,52],[95,25,69,54],[96,6,69,59],[96,7,69,60],[96,8,69,61],[97,4,70,2],[97,5,70,3],[98,4,72,2,"logout"],[98,10,72,8],[98,12,72,10],[98,18,72,10,"logout"],[98,19,72,10],[98,24,72,22],[99,6,73,4],[99,12,73,10,"AsyncStorage"],[99,24,73,22],[99,25,73,22,"default"],[99,32,73,22],[99,33,73,23,"removeItem"],[99,43,73,33],[99,44,73,34],[99,56,73,46],[99,57,73,47],[100,6,74,4],[100,12,74,10,"AsyncStorage"],[100,24,74,22],[100,25,74,22,"default"],[100,32,74,22],[100,33,74,23,"removeItem"],[100,43,74,33],[100,44,74,34],[100,50,74,40],[100,51,74,41],[101,6,75,4,"set"],[101,9,75,7],[101,10,75,8],[102,8,75,10,"token"],[102,13,75,15],[102,15,75,17],[102,19,75,21],[103,8,75,23,"user"],[103,12,75,27],[103,14,75,29],[103,18,75,33],[104,8,75,35,"isAuthenticated"],[104,23,75,50],[104,25,75,52],[105,6,75,58],[105,7,75,59],[105,8,75,60],[106,4,76,2],[107,2,77,0],[107,3,77,1],[107,4,77,2],[107,5,77,3],[108,0,77,4],[108,3]],"functionMap":{"names":["<global>","create$argument_0","loadToken","login","signup","logout"],"mappings":"AAA;8CCwB;aCM;GDa;SEE;GFW;UGE;GHW;UIE;GJI;EDC"},"hasCjsExports":false},"type":"js/module"}]}